/**
 * Apple-Style Flip Counter
 * Version 0.5.3 - May 7, 2011
 *
 * Copyright (c) 2010 Chris Nanney
 * http://cnanney.com/journal/code/apple-style-counter-revisited/
 *
 * Licensed under MIT
 * http://www.opensource.org/licenses/mit-license.php
 */
var flipCounter=function(A,E){function x(){p=a.value;a.value+=a.inc;i=a.value;u(p,i);!0===a.auto&&(j=setTimeout(x,a.pace))}function B(d,g,b){var f=a.value,c="undefined"==typeof g?!1:g,e="undefined"==typeof b?1:b;!0===c&&e--;f!=d?(p=a.value,a.auto=!0,f=f+a.inc<=d&&0!=e?f+a.inc:d,a.value=f,i=a.value,u(p,i),j=setTimeout(function(){B(d,c,e)},a.pace)):a.auto=!1}function u(d,g){y=d.toString().split("").reverse();v=g.toString().split("").reverse();var b,f=y.length,c=v.length;if(c>f)for(b=c-f;0<b;){var e= v[c-b],h=Number(c-b+1)-1;l=m.createElement("ul");l.className="cd";l.id=k+"_d"+h;l.innerHTML='<li class="t" id="'+k+"_t_d"+h+'"></li><li class="b" id="'+k+"_b_d"+h+'"></li>';0==h%3&&(r=m.createElement("ul"),r.className="cd",r.innerHTML='<li class="s"></li>',n.insertBefore(r,n.firstChild));n.insertBefore(l,n.firstChild);m.getElementById(k+"_t_d"+h).style.backgroundPosition="0 -"+e*a.tFH+"px";m.getElementById(k+"_b_d"+h).style.backgroundPosition="0 -"+(e*a.bFH+a.bOffset)+"px";b--}if(c<f)for(b=f-c;0< b;)c=m.getElementById(k+"_d"+(f-b)),n.removeChild(c),c=n.firstChild.firstChild,-1<(" "+c.className+" ").indexOf(" s ")&&(c=c.parentNode,n.removeChild(c)),b--;for(b=0;b<f;b++)v[b]!=y[b]&&F(b,y[b],v[b])}function F(d,g,b){function f(){if(7>e){h=3>e?"t":"b";if(j=m.getElementById(k+"_"+h+"_d"+d))j.style.backgroundPosition=i[e];e++;3!=e?setTimeout(f,c):f()}}var c,e=0,h,j,i=["-"+a.fW+"px -"+g*a.tFH+"px",-2*a.fW+"px -"+g*a.tFH+"px","0 -"+b*a.tFH+"px","-"+a.fW+"px -"+(g*a.bFH+a.bOffset)+"px",-2*a.fW+"px -"+ (b*a.bFH+a.bOffset)+"px",-3*a.fW+"px -"+(b*a.bFH+a.bOffset)+"px","0 -"+(b*a.bFH+a.bOffset)+"px"];if(!0===a.auto&&300>=a.pace)switch(d){case 0:c=a.pace/6;break;case 1:c=a.pace/5;break;case 2:c=a.pace/4;break;case 3:c=a.pace/3;break;default:c=a.pace/1.5}else c=80;c=80<c?80:c;f()}function D(a,g,b,f,c){var e={result:!0};e.cond1=1<=a/g?!0:!1;e.cond2=g*b<=a?!0:!1;e.cond3=10>=Math.abs(g*b-a)?!0:!1;e.cond4=100>=Math.abs(g*f-c)?!0:!1;e.cond5=g*f<=c?!0:!1;e.cond1&&(e.cond2&&e.cond4&&e.cond5)&&(a=Math.abs(a- g*b)+Math.abs(g*f-c),null===s.q&&(s.q=a),a<=s.q&&(s.pace=f,s.inc=b));for(b=1;5>=b;b++)!1===e["cond"+b]&&(e.result=!1);return e}function t(a){return!isNaN(parseFloat(a))&&isFinite(a)}var z={value:0,inc:1,pace:1E3,auto:!0,tFH:39,bFH:64,fW:53,bOffset:390},a=E||{},m=window.document,k="undefined"!==typeof A&&""!==A?A:"flip-counter",n=m.getElementById(k),q;for(q in z)a[q]=q in a?a[q]:z[q];var y=[],v=[],p,i,j=null,l,r,s={q:null,pace:0,inc:0};this.setValue=function(d){t(d)&&(p=a.value,i=d,a.value=d,u(p,i)); return this};this.setIncrement=function(d){a.inc=t(d)?d:z.inc;return this};this.setPace=function(d){a.pace=t(d)?d:z.pace;return this};this.setAuto=function(d){d&&!a.atuo&&(a.auto=!0,x());!d&&a.auto&&(j&&(clearTimeout(j),j=null),a.auto=!1);return this};this.step=function(){a.auto||x();return this};this.add=function(d){t(d)&&(p=a.value,a.value+=d,i=a.value,u(p,i));return this};this.subtract=function(d){t(d)&&(p=a.value,a.value-=d,0<=a.value?i=a.value:(i="0",a.value=0),u(p,i));return this};this.incrementTo= function(d,g,b){j&&(clearTimeout(j),j=null);if("undefined"!=typeof g){var g=t(g)?1E3*g:1E4,b="undefined"!=typeof b&&t(b)?b:a.pace,f="undefined"!=typeof d&&t(d)?d-a.value:0,c,e,h,i=0;s.q=null;b=g/f>b?10*Math.round(g/f/10):b;c=Math.floor(g/b);e=Math.floor(f/c);h=D(f,c,e,b,g);if(0<f){for(;!1===h.result&&100>i;)b+=10,c=Math.floor(g/b),e=Math.floor(f/c),h=D(f,c,e,b,g),i++;100==i?(a.inc=s.inc,a.pace=s.pace):(a.inc=e,a.pace=b);B(d,!0,c)}}else B(d)};this.getValue=function(){return a.value};this.stop=function(){j&& (clearTimeout(j),j=null);return this};var w=a.value.toString();q=w.length;var C=1,h;for(h=0;h<q;h++)l=m.createElement("ul"),l.className="cd",l.id=k+"_d"+h,l.innerHTML=l.innerHTML='<li class="t" id="'+k+"_t_d"+h+'"></li><li class="b" id="'+k+"_b_d"+h+'"></li>',n.insertBefore(l,n.firstChild),C!=q&&0==C%3&&(r=m.createElement("ul"),r.className="cd",r.innerHTML='<li class="s"></li>',n.insertBefore(r,n.firstChild)),C++;w=w.toString().split("").reverse();for(h=0;h<q;h++)m.getElementById(k+"_t_d"+h).style.backgroundPosition= "0 -"+w[h]*a.tFH+"px",m.getElementById(k+"_b_d"+h).style.backgroundPosition="0 -"+(w[h]*a.bFH+a.bOffset)+"px";!0===a.auto&&(j=setTimeout(x,a.pace))};